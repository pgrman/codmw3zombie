<html>
  <body>
    <div id="example-table"></div>

    <link
      href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css"
      rel="stylesheet"
    />
    <script
      type="text/javascript"
      src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"
    ></script>

    <script>
      var table = new Tabulator("#example-table", {
        maxHeight: "100%",
        rowHeight: 30,
        placeholder: "No Data Set",
        ajaxURL: "weapons.json",
        layout: "fitData",
        columns: [
          {
            title: "カテゴリ",
            field: "category",
            headerFilter: "list",
            headerFilterParams: { valuesLookup: true, clearable: true },
            headerFilterPlaceholder: "検索",
          },
          {
            title: "名前",
            field: "name",
            headerFilter: "input",
            headerFilterPlaceholder: "検索",
          },
          {
            title: "威力",
            columns: [
              {
                title: "ヘッドショットのダメージ",
                field: "headshot_damage",
                hozAlign: "right",
              },
              {
                title: "ボディ上部へのダメージ",
                field: "upper_torso_damage",
                hozAlign: "right",
              },
              {
                title: "ボディ下部へのダメージ",
                field: "lower_torso_damage",
                hozAlign: "right",
              },
              {
                title: "腿へのダメージ",
                field: "upper_legs_damage",
                hozAlign: "right",
              },
              {
                title: "ターゲットのひるみ",
                field: "target_flinch",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " N";
                },
              },
              {
                title: "ショットガン拡散",
                field: "shotgun_spread",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  if (typeof cell.getValue() === "undefined") {
                    return "-";
                  } else {
                    return cell.getValue().toFixed(1) + " °/s";
                  }
                },
              },
            ],
          },
          {
            title: "射程距離",
            columns: [
              {
                title: "有効射程距離",
                field: "effective_damage_range",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m";
                },
              },
              {
                title: "最小ダメージ射程距離",
                field: "minimum_damage_range",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m";
                },
              },
              {
                title: "弾丸の速度",
                field: "bullet_velocity",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
            ],
          },
          {
            title: "連射速度",
            columns: [
              {
                title: "連射速度",
                field: "rate_of_fire",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " rpm";
                },
              },
              {
                title: "再装填時間",
                field: "rechamber_time",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  if (typeof cell.getValue() === "undefined") {
                    return "-";
                  } else {
                    return cell.getValue() + " ミリ秒";
                  }
                },
              },
              {
                title: "オープンボルト遅延",
                field: "open_bolt_delay",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  if (typeof cell.getValue() === "undefined") {
                    return "-";
                  } else {
                    return cell.getValue() + " ミリ秒";
                  }
                },
              },
            ],
          },
          {
            title: "反動制御",
            columns: [
              {
                title: "反動ガンキック",
                field: "recoil_gun_kick",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(2) + " °/s";
                },
              },
              {
                title: "水平反動",
                field: "horizontal_recoil",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(2) + " °/s";
                },
              },
              {
                title: "垂直反動",
                field: "vertical_recoil",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(2) + " °/s";
                },
              },
            ],
          },
          {
            title: "命中率",
            columns: [
              {
                title: "腰だめ撃ち時のばらつき最小",
                field: "hipfire_spread_min",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " °/s";
                },
              },
              {
                title: "腰だめ撃ち時のばらつき最大",
                field: "hipfire_spread_max",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " °/s";
                },
              },
              {
                title: "ひるみ耐性",
                field: "flinch_resistance",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(2) + " N";
                },
              },
              {
                title: "タクティカルスタンス時のばらつき",
                field: "tactical_stance_spread",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  if (typeof cell.getValue() === "undefined") {
                    return "-";
                  } else {
                    return cell.getValue().toFixed(1) + " °/s";
                  }
                },
              },
            ],
          },
          {
            title: "機動性",
            columns: [
              {
                title: "移動速度",
                field: "movement_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
              {
                title: "しゃがみ時の移動速度",
                field: "crouch_movement_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
              {
                title: "ダッシュ速度",
                field: "sprint_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
              {
                title: "タクティカルダッシュ速度",
                field: "tactical_sprint_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
              {
                title: "エイム時の移動速度",
                field: "ads_movement_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " m/s";
                },
              },
            ],
          },
          {
            title: "操作性",
            columns: [
              {
                title: "エイム速度",
                field: "ads_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue() + " ミリ秒";
                },
              },
              {
                title: "リロード速度",
                field: "reload_quickness",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " 秒";
                },
              },
              {
                title: "撃ち切り後のリロード速度",
                field: "empty_reload_quickness",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue().toFixed(1) + " 秒";
                },
              },
              {
                title: "ダッシュ後射撃速度",
                field: "sprint_to_fire_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue() + " ミリ秒";
                },
              },
              {
                title: "切替速度",
                field: "swap_speed",
                hozAlign: "right",
                formatter: function (cell, formatterParams, onRendered) {
                  return cell.getValue() + " ミリ秒";
                },
              },
            ],
          },
        ],
      });
    </script>
  </body>
</html>
